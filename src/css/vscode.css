:root {
    /* VS Code Dark / Rust Theme */
    --bg-root: #1e1e1e;       /* ç¼–è¾‘å™¨èƒŒæ™¯ */
    --bg-sidebar: #252526;    /* ä¾§è¾¹æ èƒŒæ™¯ */
    --bg-activity: #333333;   /* æ´»åŠ¨æ /æ ‡é¢˜æ  */
    --bg-terminal: #1e1e1e;   /* ç»ˆç«¯èƒŒæ™¯ */
    --text-main: #d4d4d4;     /* ä¸»æ–‡æœ¬ */
    --text-dim: #858585;      /* æš—æ·¡æ–‡æœ¬ */
    
    /* Rust Syntax Highlighting */
    --rust-keyword: #569cd6;  /* blue: fn, use, let, pub */
    --rust-macro: #dcdcaa;    /* yellow: println!, info! */
    --rust-string: #ce9178;   /* orange: "string" */
    --rust-comment: #6a9955;  /* green: // comment */
    --rust-type: #4ec9b0;     /* teal: types */
    --rust-param: #9cdcfe;    /* light blue: params */
    
    --font-code: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
}

/* å…¨å±€é‡ç½® */
* { box-sizing: border-box; }

body {
    margin: 0;
    padding: 0;
    background: var(--bg-root);
    color: var(--text-main);
    font-family: var(--font-code);
    height: 100vh;
    overflow: hidden; /* ç¦æ­¢æ•´ä¸ªé¡µé¢æ»šåŠ¨ */
    font-size: 14px;
    line-height: 1.5;
}

/* --- 1. æ•´ä½“å¸ƒå±€éª¨æ¶ --- */
.container {
    display: flex;
    flex-direction: column; /* ä¸Šä¸‹å¸ƒå±€ï¼šæ ‡é¢˜æ  + ä¸‹æ–¹ä¸»ä½“ */
    height: 100vh;
    width: 100vw;
}

/* é¡¶éƒ¨ä¼ªè£…æˆ VS Code æ ‡é¢˜æ  */
.header {
    height: 30px;
    background: var(--bg-activity);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    color: #cccccc;
    flex-shrink: 0;
    border-bottom: 1px solid #000;
}
.header h1 {
    font-size: 13px;
    font-weight: normal;
    margin: 0;
}
/* éšè—é¡¶éƒ¨æŒ‰é’®ï¼Œæˆ–è€…æŠŠå®ƒä»¬æ”¹å¾—å¾ˆå° */
.header-buttons { display: none; } 


/* ä¸»ä½“åŒºåŸŸï¼šå·¦ä¾§èµ„æºç®¡ç†å™¨ + å³ä¾§ç¼–è¾‘å™¨ */
.main-content {
    display: flex;
    flex: 1; /* å¡«æ»¡å‰©ä½™é«˜åº¦ */
    overflow: hidden; /* å…³é”®ï¼šé˜²æ­¢å†…éƒ¨æ’‘å¼€çˆ¶å®¹å™¨ */
    flex-direction: row; /* å·¦å³æ’åˆ— */
}

/* --- 2. å·¦ä¾§ä¾§è¾¹æ  (Project Explorer) --- */
.user-list-container {
    width: 250px;
    background: var(--bg-sidebar);
    display: flex;
    flex-direction: column;
    border-right: 1px solid #000;
    flex-shrink: 0;
    padding-top: 10px;
}

/* ä¼ªé€ é¡¹ç›®ç»“æ„æ ‡é¢˜ */
.user-list-container::before {
    content: "V EXPLORER";
    font-size: 11px;
    font-weight: bold;
    padding: 0 20px;
    margin-bottom: 5px;
    color: #bbb;
}

/* ä¼ªé€  Cargo æ–‡ä»¶æ ‘ */
#user-list {
    list-style: none;
    padding: 0;
    margin: 0;
    font-family: var(--font-code);
}

/* åˆ©ç”¨ ::before åœ¨åˆ—è¡¨æœ€ä¸Šæ–¹æ’å…¥ä¼ªæ–‡ä»¶ */
#user-list::before {
    content: "ğŸ¦€ 7900XTX\A    ğŸ“„ Cargo.lock\A    ğŸ¦€ Cargo.toml\A    ğŸ“‚ src";
    white-space: pre; /* è¯†åˆ« \A æ¢è¡Œ */
    display: block;
    color: var(--text-main);
    padding-left: 10px;
    line-height: 22px;
    font-weight: bold;
}

/* ç”¨æˆ·åˆ—è¡¨é¡¹ -> ä¼ªè£…æˆ .rs æ–‡ä»¶ */
#user-list li {
    padding: 2px 0 2px 45px; /* ç¼©è¿›åˆ° src ä¸‹é¢ */
    cursor: pointer;
    color: #999;
    display: flex;
    align-items: center;
    font-size: 13px;
}

#user-list li:hover {
    background: #2a2d2e;
    color: #fff;
}

#user-list li.active {
    background: #37373d;
    color: #fff;
}

/* å¼ºåˆ¶æ·»åŠ  .rs åç¼€ */
#user-list li::after {
    content: ".rs";
    opacity: 0.7;
}

/* éšè—åŸæœ¬çš„ IP */
.user-addr { display: none; }
/* éšè—åŸæœ‰çš„å‘¼å¸ç¯/åœ†ç‚¹ */
#user-list li::before { display: none; }
/* éšè—å¯èƒ½å­˜åœ¨çš„å›¾æ ‡ */
.user-name { display: inline; }


/* --- 3. å³ä¾§ç¼–è¾‘å™¨åŒºåŸŸ (Chat) --- */
.chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: var(--bg-root);
    position: relative;
    overflow: hidden;
}

/* ä¼ªè£…æˆæ–‡ä»¶æ ‡ç­¾é¡µ */
.chat-header {
    height: 35px;
    background: var(--bg-root);
    display: flex;
    align-items: center;
    border-bottom: 1px solid #2b2b2b;
    padding: 0;
    flex-shrink: 0;
}

#chat-with-name {
    background: #1e1e1e;
    padding: 8px 15px;
    border-top: 2px solid var(--rust-string); /* æ©™è‰²é«˜äº® */
    color: #fff;
    font-size: 13px;
    display: flex;
    align-items: center;
}
#chat-with-name::before {
    content: "ğŸ¦€ "; /* Rust logo */
    margin-right: 5px;
    font-size: 12px;
}
#chat-with-name::after {
    content: ".rs";
}
/* éšè—å…³é—­æŒ‰é’® */
#close-chat-btn { display: none; }

/* èŠå¤©æ¶ˆæ¯åˆ—è¡¨ -> ä»£ç åŒº */
.chat-messages {
    flex: 1;
    overflow-y: auto; /* å…è®¸æ»šåŠ¨ */
    padding: 10px 0 10px 10px;
    font-family: var(--font-code);
    counter-reset: line 0; /* è¡Œå·è®¡æ•°å™¨ */
    background: var(--bg-root);
}

/* é¡¶éƒ¨å›ºå®šä»£ç ï¼šuse tracing... */
.chat-messages::before {
    content: "use tracing::{error, info};\A\Afn main() {";
    white-space: pre;
    display: block;
    color: var(--text-main);
    margin-bottom: 10px;
    font-size: 14px;
}

/* ç»™é¡¶éƒ¨ä»£ç åŠ é«˜äº® (ä¼ªè£…) */
/* æ— æ³•å¯¹ content é‡Œçš„æ–‡å­—å•ç‹¬ç€è‰²ï¼Œåªèƒ½æ•´ä½“è®¾è‰²ã€‚
   ä¸ºäº†æ•ˆæœå¥½ï¼Œæˆ‘ä»¬è®©å®ƒå‘ˆç° keyword é¢œè‰²ï¼Œç„¶å message é‡Œé‡ç½® */
.chat-messages::before {
    color: var(--rust-keyword); 
}

/* åº•éƒ¨é—­åˆæ‹¬å· */
.chat-messages::after {
    content: "}";
    display: block;
    color: var(--rust-macro); /* é»„è‰²æ‹¬å· */
    margin-top: 10px;
}

/* æ¯ä¸€æ¡æ¶ˆæ¯ -> ä¸€è¡Œä»£ç  */
.message {
    display: flex; /* è®©è¡Œå·å’Œå†…å®¹æ¨ªå‘æ’åˆ— */
    align-items: flex-start;
    padding: 2px 0;
    margin: 0;
    width: 100%;
    /* ç§»é™¤æ‰€æœ‰å¯¹é½æ ·å¼ï¼Œä»£ç éƒ½æ˜¯å·¦å¯¹é½çš„ */
    justify-content: flex-start !important; 
}

/* è¡Œå· */
.message::before {
    counter-increment: line;
    content: counter(line);
    min-width: 30px;
    text-align: right;
    margin-right: 15px;
    color: var(--text-dim);
    font-size: 12px;
    user-select: none;
    border-right: 1px solid #333;
    padding-right: 10px;
    line-height: 1.5;
}

/* æ¶ˆæ¯å†…å®¹å®¹å™¨ï¼šå¿…é¡»å»æ‰æ‰€æœ‰æ°”æ³¡æ ·å¼ */
.message-content {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    color: var(--rust-string); /* é»˜è®¤ä¸ºå­—ç¬¦ä¸²æ©™è‰² */
    font-family: var(--font-code);
    font-size: 14px;
    line-height: 1.5;
    word-break: break-all;
    display: flex;
    flex-wrap: wrap; /* å…è®¸æ¢è¡Œï¼Œé˜²æ­¢æ’‘çˆ† */
    align-items: center;
}

/* --- æ–‡æœ¬æ¶ˆæ¯å¤„ç† --- */

/* æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼š info!("text"); */
.message.received .message-content::before {
    content: "    info!(\""; /* 4ä¸ªç©ºæ ¼ç¼©è¿› */
    color: var(--rust-macro); /* é»„è‰² */
    white-space: pre;
}
.message.received .message-content::after {
    content: "\");";
    color: var(--text-main);
}

/* å‘é€çš„æ¶ˆæ¯ï¼š println!("text"); */
.message.sent .message-content::before {
    content: "    println!(\""; 
    color: var(--rust-macro);
    white-space: pre;
}
.message.sent .message-content::after {
    content: "\");";
    color: var(--text-main);
}

/* --- æ–‡ä»¶/å›¾ç‰‡æ¶ˆæ¯ä¿®å¤ --- */
/* å¿…é¡»é‡ç½®æ‰€æœ‰åŸæ¥çš„æ–‡ä»¶æ ·å¼ï¼Œå¦åˆ™ä¼šä¹±å¥— */

.message-file {
    display: inline-flex;
    align-items: center;
    margin: 0 5px;
    background: transparent !important;
    border: none !important;
    color: var(--rust-type) !important; /* è“ç»¿è‰² */
}

/* éšè—åŸæœ¬çš„å¤§æ–‡ä»¶å›¾æ ‡ img */
.message-file img, 
.file-icon { 
    display: none !important; 
}

/* å¼ºåˆ¶é‡å†™æ–‡ä»¶åä¸ºä»£ç é£æ ¼ */
.file-name {
    color: var(--rust-type); /* ç±»å‹é¢œè‰² */
    font-family: var(--font-code);
}

/* æ–‡ä»¶çŠ¶æ€ -> æ³¨é‡Š */
.file-status, .file-size {
    color: var(--rust-comment);
    font-size: 12px;
    margin-left: 10px;
    font-weight: normal;
}
/* ç»™çŠ¶æ€åŠ  // å‰ç¼€ */
.file-status::before { content: " // status: "; }

/* é’ˆå¯¹åŒ…å«æ–‡ä»¶çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å‰ç¼€ä¼ªè£…ï¼Œ
   è®©å®ƒçœ‹èµ·æ¥åƒ let file = ... è€Œä¸æ˜¯ print("...filehtml...")
   åˆ©ç”¨ CSS :has (å¦‚æœæµè§ˆå™¨æ”¯æŒ) æˆ–è€…ç®€å•çš„è¦†ç›– */

/* ç®€åŒ–æ–¹æ¡ˆï¼šå¦‚æœé‡Œé¢æœ‰æ–‡ä»¶ï¼Œå®ƒä¾ç„¶ä¼šè¢«åŒ…è£¹åœ¨ println!("") é‡Œï¼Œ
   ä½†åœ¨è§†è§‰ä¸Šæˆ‘ä»¬æŠŠå¼•å·é¢œè‰²è°ƒæˆé€æ˜ï¼Œå‡è£…å®ƒæ˜¯ä»£ç å—çš„ä¸€éƒ¨åˆ†ã€‚
   (ç”±äº CSS æ— æ³•åˆ¤æ–­å†…å®¹æ˜¯å¦ä¸ºçº¯æ–‡æœ¬ï¼Œè¿™é‡Œä¿æŒ println æ ¼å¼ï¼Œ
   æŠŠæ–‡ä»¶çœ‹ä½œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Token) */

/* æ—¶é—´æˆ³ -> è¡Œå°¾æ³¨é‡Š */
.message-time {
    margin-left: 20px;
    color: var(--rust-comment);
    font-size: 12px;
    font-family: var(--font-code);
}
.message-time::before {
    content: "// ";
}


/* --- 4. åº•éƒ¨è¾“å…¥æ¡† -> ç»ˆç«¯ (Terminal) --- */
.chat-input-container {
    flex-shrink: 0; /* é˜²æ­¢è¢«æŒ¤å‹ */
    height: 140px;  /* ç»™ç»ˆç«¯å›ºå®šé«˜åº¦ */
    background: var(--bg-terminal);
    border-top: 1px solid #444;
    display: flex;
    flex-direction: column; /* å‚ç›´æ’åˆ— */
    padding: 0;
}

/* ä¼ªè£…ç»ˆç«¯ Tabs */
.chat-input-container::before {
    content: "PROBLEMS  OUTPUT  DEBUG CONSOLE  TERMINAL";
    background: var(--bg-root);
    color: var(--text-dim);
    font-size: 11px;
    padding: 5px 15px;
    border-bottom: 1px solid #2b2b2b;
    letter-spacing: 1px;
}
/* ä¼ªè£…ç»ˆç«¯é«˜äº®çº¿ */
.chat-input-container::after {
    content: "";
    height: 1px;
    width: 60px;
    background: var(--text-main);
    position: absolute;
    bottom: 139px; /* å®šä½åˆ° TERMINAL ä¸‹æ–¹ */
    left: 230px;   /* ä¼°ç®—ä½ç½® */
}

/* çœŸå®çš„è¾“å…¥åŒºåŸŸ wrapper */
/* è¿™é‡Œæˆ‘ä»¬åˆ©ç”¨ form æˆ–è€… div çš„ç»“æ„ */
.chat-input-container {
    padding-top: 10px;
    padding-left: 10px;
    position: relative;
}

/* æç¤ºç¬¦ */
#chat-input {
    background: transparent;
    border: none;
    color: var(--text-main);
    font-family: var(--font-code);
    font-size: 14px;
    outline: none;
    width: 100%;
    padding-left: 220px; /* ç»™æç¤ºç¬¦ç•™ä½ç½® */
    margin-top: -24px;   /* æŠŠè¾“å…¥æ¡†æ‹‰ä¸Šæ¥è¦†ç›–æç¤ºç¬¦ */
}

/* ä½¿ç”¨ ::placeholder æˆ–å¤–éƒ¨å®¹å™¨åˆ¶é€ æç¤ºç¬¦ */
/* ç”±äº input æ— æ³•æœ‰ ::beforeï¼Œæˆ‘ä»¬åˆ©ç”¨ input çš„çˆ¶çº§å®¹å™¨ (chat-input-container) 
   åˆ¶é€ ä¸€ä¸ªç»å¯¹å®šä½çš„æç¤ºç¬¦ */
#chat-input-prompt {
    /* å¦‚æœ HTML é‡Œæ²¡è¿™ä¸ª IDï¼Œæˆ‘ä»¬ç”¨ CSS å¼ºè¡Œé€ ä¸€ä¸ªè§†è§‰å±‚ */
}

/* é™„ä»¶æŒ‰é’® -> ç¨å¾®æ”¹é€ ä¸‹ï¼Œæ”¾æœ€å³è¾¹æˆ–è€…éšè— */
#attach-file-btn {
    position: absolute;
    right: 10px;
    top: 40px;
    background: transparent;
    border: none;
    color: #666;
    cursor: pointer;
}
#attach-file-btn:hover { color: #fff; }

/* å‘é€æŒ‰é’® -> éšè—ï¼Œæå®¢åªç”¨å›è½¦ */
#send-btn { display: none; }

/* æœ€å…³é”®ï¼šè¾“å…¥æ¡†å‰é¢çš„ Prompt æ•ˆæœ */
/* æˆ‘ä»¬åˆ©ç”¨ input æœ¬èº«çš„ background-image éƒ½ä¸å¤ªå¥½åš
   æœ€å¥½çš„åŠæ³•æ˜¯æŠŠ input çš„ padding-left è®¾å¤§ï¼Œç„¶åç”¨çˆ¶çº§ background */
.chat-input-container {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='20'%3E%3Ctext x='5' y='15' font-family='monospace' font-size='12' fill='%2398c379'%3Eâœ target/debug %3C/text%3E%3Ctext x='110' y='15' font-family='monospace' font-size='12' fill='%23e06c75'%3Egit:(main) âœ—%3C/text%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px 42px; /* è°ƒæ•´ä½ç½® */
}

#chat-input {
    padding-left: 200px; /* ä¸ºèƒŒæ™¯æç¤ºç¬¦ç•™ç™½ */
    margin-top: 5px;
}
