:root {
	--bg: #1e1e1e;
	--sidebar: #252526;
	--text: #d4d4d4;
	--keyword: #569cd6;
	/* let, fn */
	--string: #ce9178;
	/* "string" */
	--macro: #dcdcaa;
	/* println! */
	--comment: #6a9955;
	/* // comments */
	--class: #4ec9b0;
	/* File */
	--method: #dcdcaa;
	/* unwrap */
	--number: #b5cea8;
	--border: #333333;
	--statusbar: #007acc;
	--font: 'Consolas', 'JetBrains Mono', monospace;
}

body {
	margin: 0;
	padding: 0;
	background: var(--bg);
	color: var(--text);
	font-family: var(--font);
	height: 100vh;
	overflow: hidden;
	font-size: 14px;
}

/* --- 1. å®è§‚å¸ƒå±€ --- */
.container {
	display: flex;
	flex-direction: column;
	height: 100vh;
	width: 100vw;
}

.main-content {
	display: flex;
	flex-direction: row;
	flex: 1;
	overflow: hidden;
}

/* --- 2. ä¾§è¾¹æ  (Explorer) --- */
.user-list-container {
	width: 240px;
	background: var(--sidebar);
	border-right: 1px solid var(--border);
	display: flex;
	flex-direction: column;
	padding-top: 10px;
	flex-shrink: 0;
}

.user-list-container::before {
	content: "EXPLORER";
	font-size: 11px;
	padding: 0 20px;
	margin-bottom: 5px;
	font-weight: bold;
	color: #bbb;
	letter-spacing: 1px;
}

#user-list {
	list-style: none;
	padding: 0;
	margin: 0;
}

#user-list::before {
	content: "â–¼ LAN_CHAT\00000a  â–¼ src";
	white-space: pre;
	padding-left: 10px;
	line-height: 22px;
	font-weight: bold;
	color: #ccc;
	display: block;
}

#user-list::after {
	content: "  â–¸ target\00000a  ğŸ¦€ Cargo.toml\00000a  ğŸ”’ Cargo.lock";
	white-space: pre;
	padding-left: 10px;
	line-height: 22px;
	color: #ccc;
	display: block;
	margin-top: 5px;
}

#user-list li {
	padding: 2px 0 2px 35px;
	cursor: pointer;
	display: flex;
	align-items: center;
	color: #ccc;
}

#user-list li:hover {
	background: #2a2d2e;
}

#user-list li.active {
	background: #37373d;
	color: #fff;
}

#user-list li::before {
	content: "R";
	color: #dea584;
	font-weight: bold;
	font-family: serif;
	margin-right: 6px;
	font-size: 12px;
}

.user-name::after {
	content: ".rs";
	opacity: 0.6;
}

.user-addr {
	display: none;
}

/* --- 3. èŠå¤©ä¸»åŒº --- */
.chat-container {
	flex: 1;
	display: flex;
	flex-direction: column;
	background: var(--bg);
}

.chat-header {
	height: 35px;
	background: #2d2d2d;
	display: flex;
	align-items: center;
	padding: 0;
	border-bottom: none;
	flex-shrink: 0;
}

#chat-with-name {
	background: var(--bg);
	color: #fff;
	height: 35px;
	padding: 0 15px;
	min-width: 100px;
	display: flex;
	align-items: center;
	border-top: 1px solid #007acc;
	font-size: 13px;
	position: relative;
}

#chat-with-name::after {
	content: ".rs";
	margin-left: 2px;
}

#chat-with-name::before {
	content: "R ";
	color: #dea584;
	margin-right: 5px;
	font-family: serif;
}

#close-chat-btn {
	background: transparent;
	border: none;
	color: #999;
	margin-left: 10px;
	cursor: pointer;
	font-size: 14px;
}

#close-chat-btn:hover {
	background: #444;
	border-radius: 3px;
	color: #fff;
}

/* --- 4. æ¶ˆæ¯åŒºåŸŸ (å…³é”®ä¿®å¤) --- */
.chat-messages {
	flex: 1;
	padding: 10px 0;
	overflow-y: auto;
	counter-reset: line 0;
}

/* --- 1. æ¶ˆæ¯è¡ŒåŸºç¡€å®¹å™¨ --- */
.message {
	display: flex;
	padding: 0 10px;
	align-items: flex-start;
	font-family: 'Consolas', 'JetBrains Mono', monospace;
	line-height: 24px;
	margin-bottom: 2px;
	width: 100%;
	box-sizing: border-box;
	background: transparent !important;
}

/* è‡ªåŠ¨è¡Œå· */
.message::before {
	counter-increment: line;
	content: counter(line);
	color: #858585;
	width: 35px;
	text-align: right;
	margin-right: 20px;
	font-size: 13px;
	flex-shrink: 0;
	user-select: none;
}

/* æ¶ˆæ¯å†…å®¹åŒº */
.message-content {
	flex: 1;
	min-width: 0;
	word-break: break-all;
	white-space: pre-wrap;
	display: block;
	/* ä¿æŒå—çº§ï¼Œä½œä¸ºè¡Œå†…å…ƒç´ çš„å®¹å™¨ */
}

/* æ—¶é—´æˆ³ï¼šè¡Œå°¾æ³¨é‡Š */
.message-time {
	color: #6a9955;
	margin-left: auto;
	/* å¼ºåˆ¶æ¨åˆ°æœ€å³ä¾§ */
	padding-left: 20px;
	font-style: italic;
	white-space: nowrap;
	flex-shrink: 0;
	font-size: 13px;
}

.message-time::before {
	content: "// ";
}

/* --- 2. æ–‡æœ¬æ¶ˆæ¯è£…é¥° --- */
.message-text {
	display: inline;
	color: #ce9178;
}

.sent .message-text::before {
	content: 'println!("';
	color: #dcdcaa;
}

.sent .message-text::after {
	content: '");';
	color: #d4d4d4;
}

.received .message-text::before {
	content: 'info!("';
	color: #569cd6;
}

.received .message-text::after {
	content: '");';
	color: #d4d4d4;
}

/* --- 3. æ–‡ä»¶æ¶ˆæ¯ï¼šç²¾å‡†é™ç»´ (é’ˆå¯¹ JS æ–°ç»“æ„) --- */

/* å¼ºåˆ¶æ–‡ä»¶å®¹å™¨å’Œå†…éƒ¨åµŒå¥—å±‚å…¨éƒ¨å˜ä¸ºè¡Œå†…ï¼Œå–æ¶ˆå¡ç‰‡æ„Ÿ */
.message-file,
.file-info {
	display: inline !important;
	background: transparent !important;
	border: none !important;
	padding: 0 !important;
	margin: 0 !important;
	box-shadow: none !important;
}

/* éšè—ä¸éœ€è¦çš„é›¶ä»¶ï¼šå›¾æ ‡å’Œæ–‡ä»¶å¤§å° */
.file-icon,
.file-size {
	display: none !important;
}

/* æ–‡ä»¶åï¼šä¿æŒå­—ç¬¦ä¸²é¢œè‰² */
.file-name {
	display: inline !important;
	color: #ce9178 !important;
	font-size: inherit !important;
	font-weight: normal !important;
}

/* è¯­æ³•å‰ç¼€ */
.sent .message-file::before {
	content: 'let tx = File::open("';
	color: #d4d4d4;
}

.received .message-file::before {
	content: 'let rx = File::create("';
	color: #569cd6;
}

/* è¯­æ³•åç¼€ */
.message-file::after {
	color: #d4d4d4;
	display: inline-block;
}

.sent .message-file::after {
	content: '").unwrap();';
}

.received .message-file::after {
	content: '").expect("saved");';
}

/* --- çŠ¶æ€æ ‡ç­¾ï¼šä¼ªè£…æˆå°¾éƒ¨æ³¨é‡Š --- */
.file-finish,
.file-downloading,
.file-uploading,
.file-pending {
	display: inline !important;
	font-size: 13px !important;
	font-style: italic !important;
	font-weight: normal !important;
	color: #6a9955 !important;
	/* VS Code æ³¨é‡Šç»¿ */
	margin-left: 10px !important;
	/* ç¦»ä»£ç åˆ†å·è¿œä¸€ç‚¹ */
	animation: none !important;
	/* å…³é—­å‘¼å¸åŠ¨ç”» */
	vertical-align: baseline !important;
}

/* å…³é”®ä¿®æ”¹ï¼šæŠŠåŸæ¥çš„åœ†ç‚¹å˜æˆ "// " æ³¨é‡Šç¬¦ */
.file-finish::before,
.file-downloading::before,
.file-uploading::before,
.file-pending::before {
	display: inline !important;
	/* é‡æ–°æ˜¾ç¤º */
	content: "// " !important;
	/* å†…å®¹æ”¹ä¸ºåŒæ–œæ  */

	/* å½»åº•æŠ¹é™¤é»˜è®¤ä¸»é¢˜åœ†ç‚¹çš„å½¢çŠ¶ */
	width: auto !important;
	height: auto !important;
	background-color: transparent !important;
	border-radius: 0 !important;
	margin-right: 2px !important;
	box-shadow: none !important;
}

/* ç¡®ä¿å®ƒä¸ä¼šæ¢è¡Œåˆ°ä¸‹ä¸€è¡Œå¼€å¤´ï¼Œç´§è·Ÿåœ¨ä»£ç åé¢ */
.message-content {
	display: flex !important;
	flex-wrap: wrap;
	align-items: center;
}


/* --- 5. ç»ˆç«¯åŒºåŸŸ --- */
.chat-input-container {
	height: 180px;
	/* å›ºå®šé«˜åº¦ï¼Œé˜²æ­¢è¢«æŒ¤å‹ */
	flex-shrink: 0;
	border-top: 1px solid var(--border);
	background: var(--bg);
	display: flex;
	flex-direction: column;
	padding: 0;
	position: relative;
}

.chat-input-container::before {
	content: "PROBLEMS   OUTPUT   DEBUG CONSOLE   TERMINAL";
	font-size: 11px;
	color: #aaa;
	padding: 8px 20px;
	font-weight: bold;
	border-bottom: 1px solid var(--border);
	word-spacing: 15px;
	display: block;
}

/* ç»ˆç«¯ Prompt */
.chat-input-container::after {
	content: "âœ  lan-chat git:(main) âœ— cargo run";
	position: absolute;
	top: 35px;
	left: 15px;
	font-family: var(--font);
	font-size: 13px;
	color: #fff;
	pointer-events: none;
}

#chat-input {
	background: transparent;
	border: none;
	outline: none;
	color: var(--text);
	font-family: var(--font);
	font-size: 13px;
	padding: 10px;
	margin-top: 25px;
	margin-left: 10px;
	width: 95%;
	box-shadow: none;
}

#chat-input::placeholder {
	color: transparent;
}

/* æŒ‰é’®ç»„ */
#attach-file-btn,
#send-btn {
	position: absolute;
	top: 5px;
	background: transparent;
	border: none;
	font-size: 12px;
	cursor: pointer;
	display: flex;
	align-items: center;
	gap: 4px;
	color: #aaa;
	z-index: 10;
}

#attach-file-btn {
	right: 80px;
}

#attach-file-btn::before {
	content: "ğŸ";
}

#attach-file-btn span,
#attach-file-btn {
	font-size: 0;
}

#attach-file-btn::after {
	content: "Debug";
	font-size: 12px;
}

#send-btn {
	right: 20px;
}

#send-btn::before {
	content: "â–¶";
	color: #6a9955;
}

#send-btn span,
#send-btn {
	font-size: 0;
}

#send-btn::after {
	content: "Run";
	font-size: 12px;
	color: #aaa;
}

#send-btn:hover::after {
	color: #fff;
}

/* --- 6. çŠ¶æ€æ  --- */
.header {
	height: 22px;
	background: var(--statusbar);
	color: #fff;
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 0 10px;
	font-size: 12px;
	font-family: sans-serif;
	flex-shrink: 0;
	z-index: 100;
}

.header h1 {
	font-size: 12px;
	font-weight: normal;
	color: #fff;
	margin: 0;
	display: flex;
	align-items: center;
	gap: 10px;
}

.header h1::before {
	content: "main*";
	font-weight: bold;
}

.header h1::after {
	content: "â“§ 0 âš  0";
	margin-left: 10px;
	font-weight: normal;
}

.header-buttons {
	display: flex;
	gap: 15px;
	margin-right: 10px;
}

.header-buttons button {
	background: transparent;
	border: none;
	color: #fff;
	padding: 0;
	font-size: 0;
	cursor: default;
}

.header-buttons button:hover {
	background: rgba(255, 255, 255, 0.2);
}

#edit-name-btn::before {
	content: "Ln 42, Col 10";
	font-size: 12px;
}

#settings-btn::before {
	content: "UTF-8";
	font-size: 12px;
}

#theme-btn::before {
	content: "Rust";
	font-size: 12px;
}

/* --- 7. å¼¹çª— --- */
.edit-panel,
.settings-panel,
.theme-panel {
	position: absolute;
	/* ç»å¯¹å®šä½ */
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	/* å®Œç¾å±…ä¸­ */

	width: 400px;
	max-width: 90%;

	/* VS Code èœå•/å¼¹çª—é£æ ¼ */
	background: #252526;
	border: 1px solid #454545;
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
	/* æ˜æ˜¾çš„é˜´å½± */
	border-radius: 5px;
	/* ç¨å¾®ä¸€ç‚¹åœ†è§’ */
	padding: 20px;
	z-index: 2000;
	/* ä¿è¯åœ¨æœ€é¡¶å±‚ */

	color: #cccccc;
	display: none;
	/* é»˜è®¤éšè—ï¼Œç”±JSæ§åˆ¶æ˜¾ç¤º */
	animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translate(-50%, -48%);
	}

	to {
		opacity: 1;
		transform: translate(-50%, -50%);
	}
}

/* æ ‡é¢˜ */
.edit-panel h2,
.settings-panel h2,
.theme-panel h2 {
	margin: 0 0 20px 0;
	padding: 0 0 10px 0;
	font-size: 14px;
	font-weight: 600;
	color: #ffffff;
	border-bottom: 1px solid #454545;
	/* æ ‡é¢˜åˆ†å‰²çº¿ */
	background: transparent;
	/* å»æ‰ä¹‹å‰çš„ç°è‰²èƒŒæ™¯ */
}

/* è¾“å…¥æ¡†é€šç”¨æ ·å¼ */
.edit-panel input[type="text"],
.settings-panel input[type="text"] {
	width: 100%;
	background: #3c3c3c;
	/* è¾“å…¥æ¡†èƒŒæ™¯ */
	border: 1px solid #3c3c3c;
	color: #cccccc;
	padding: 8px;
	font-family: var(--font);
	/* ä¿æŒç­‰å®½å­—ä½“ï¼Œçœ‹èµ·æ¥æŠ€æœ¯æ„Ÿå¼º */
	font-size: 13px;
	box-sizing: border-box;
	/* é˜²æ­¢ padding æ’‘ç ´å®½åº¦ */
	outline: none;
	margin-bottom: 5px;
}

/* è¾“å…¥æ¡†èšç„¦ */
.edit-panel input:focus,
.settings-panel input:focus {
	border-color: #007acc;
	/* VS Code èšç„¦è“ */
}

/* è®¾ç½®é¢æ¿é‡Œçš„æ ‡ç­¾ */
.setting-item label {
	display: block;
	margin-bottom: 8px;
	font-size: 12px;
	color: #aaaaaa;
}

/* è·¯å¾„é€‰æ‹©ç»„ (è¾“å…¥æ¡†+æŒ‰é’®) */
.path-input-group {
	display: flex;
	gap: 8px;
	margin-bottom: 20px;
	align-items: center;
}

.path-input-group input {
	margin-bottom: 0 !important;
	flex: 1;
}

/* æŒ‰é’®ç»„å®¹å™¨ */
.button-group {
	display: flex;
	justify-content: flex-end;
	/* æŒ‰é’®é å³æ”¾ï¼Œç¬¦åˆæ¡Œé¢è½¯ä»¶ä¹ æƒ¯ */
	gap: 10px;
	margin-top: 20px;
}

/* æ‰€æœ‰æŒ‰é’®é€šç”¨é‡ç½® */
.edit-panel button,
.settings-panel button,
.theme-panel button {
	font-family: -apple-system, sans-serif;
	/* æŒ‰é’®æ–‡å­—ç”¨æ— è¡¬çº¿ä½“æ›´å¥½è¯» */
	padding: 6px 16px;
	font-size: 12px;
	cursor: pointer;
	border-radius: 2px;
	border: none;
}

/* ç¡®å®š/ä¿å­˜æŒ‰é’® (è“è‰²) */
#save-name-btn,
#save-settings-btn,
#apply-theme-btn {
	background: #007acc;
	color: white;
}

#save-name-btn:hover,
#save-settings-btn:hover,
#apply-theme-btn:hover {
	background: #0062a3;
}

/* å–æ¶ˆ/æ™®é€šæŒ‰é’® (æ·±ç°) */
#cancel-name-btn,
#cancel-settings-btn,
#cancel-theme-btn,
#choose-path-btn {
	background: #3c3c3c;
	color: white;
}

#cancel-name-btn:hover,
#cancel-settings-btn:hover,
#cancel-theme-btn:hover,
#choose-path-btn:hover {
	background: #4b4b4b;
}

/* ä¸»é¢˜åˆ—è¡¨æ ·å¼ */
.theme-list {
	margin-bottom: 20px;
}

.theme-item {
	padding: 8px;
	display: flex;
	align-items: center;
}

.theme-item:hover {
	background: #2a2d2e;
}

.theme-item label {
	margin-left: 8px;
	cursor: pointer;
}
