:root {
	/* é…è‰²ç³»ç»Ÿ - ä¿æŒä¸å˜ */
	--bg-dark: #21222c;
	--bg-panel: #282a36;
	--bg-light: #44475a;
	--primary: #bd93f9;
	--primary-hover: #caa9fa;
	--primary-gradient: linear-gradient(135deg, #bd93f9 0%, #ff79c6 100%);
	--text-main: #f8f8f2;
	--text-dim: #b3b3b3;
	--radius-lg: 16px;
	--radius-md: 10px;
	--radius-pill: 50px;
	--radius-btn: 12px;
	/* æ–°å¢ï¼šæŒ‰é’®ä¸“ç”¨åœ†è§’ */
}

body {
	font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
	margin: 0;
	padding: 0;
	background: var(--bg-dark);
	height: 100vh;
	overflow: hidden;
	color: var(--text-main);
}

/* æ›¿æ¢åŸæœ‰çš„ h2 æ ·å¼ */
h2 {
	margin: 20px 25px 15px;
	/* è°ƒæ•´é—´è· */
	font-size: 14px;
	font-weight: 700;
	letter-spacing: 1.5px;
	/* å¢åŠ å­—é—´è·ï¼Œæ›´æ˜¾é«˜çº§ */
	color: var(--text-dim);
	text-transform: uppercase;
	display: flex;
	align-items: center;
	position: relative;
}

/* åœ¨æ ‡é¢˜å‰åŠ ä¸€ä¸ªå‘¼å¸ç¯æ•ˆæœçš„ç»¿ç‚¹ */
h2::before {
	content: '';
	display: inline-block;
	width: 8px;
	height: 8px;
	background: var(--success);
	border-radius: 50%;
	margin-right: 12px;
	box-shadow: 0 0 10px var(--success);
	/* ç»¿è‰²è§å…‰æ™• */
	animation: pulse-green 2s infinite;
}

@keyframes pulse-green {
	0% {
		opacity: 0.6;
		box-shadow: 0 0 5px var(--success);
	}

	50% {
		opacity: 1;
		box-shadow: 0 0 15px var(--success);
	}

	100% {
		opacity: 0.6;
		box-shadow: 0 0 5px var(--success);
	}
}

.container {
	height: 100vh;
	display: flex;
	flex-direction: column;
	background: var(--bg-dark);

	/* é’ˆå¯¹ç§»åŠ¨ç«¯æµè§ˆå™¨åœ°å€æ å˜åŒ–çš„åŠ¨æ€é«˜åº¦ */
	height: 100dvh;
	/* é¡¶éƒ¨å¢åŠ å†…è¾¹è·ï¼Œé¿å¼€æ‰‹æœºçŠ¶æ€æ  */
	padding-top: env(safe-area-inset-top);
	box-sizing: border-box;
	/* ç¡®ä¿ padding ä¸ä¼šæ’‘å¤§æ•´ä½“å®½åº¦ */
}

/* --- åº•éƒ¨çŠ¶æ€æ --- */
.header {
	flex-shrink: 0;
	display: flex;
	align-items: center;
	justify-content: space-between;

	/* æ ¸å¿ƒè°ƒæ•´ï¼šé«˜åº¦å‹åˆ° 22px */
	height: 21px;
	padding: 0 10px;

	/* èƒŒæ™¯æ”¹ä¸ºæ·±è‰²ï¼Œä¸å†æ˜¯äº®ç´«è‰² */
	background: #191a21;
	/* ææ·±çš„ç°ç´«è‰²ï¼Œå®Œç¾å¥‘åˆæš—è‰²ä¸»é¢˜ */
	border-top: 1px solid #2b2d3e;
	/* é¡¶éƒ¨åŠ ä¸€æ¡å¾®å¼±çš„åˆ†å‰²çº¿ */

	/* æ–‡å­—é¢œè‰²æ”¹ä¸ºä½è°ƒçš„ç°ç™½è‰² */
	color: #cccccc;
	font-size: 11px;
	/* å­—ä½“è¿›ä¸€æ­¥ç¼©å° */
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
	z-index: 20;
	user-select: none;
	line-height: 22px;
}

/* å·¦ä¾§ï¼šç”¨æˆ·ååŒºåŸŸ */
.header h1 {
	margin: 0;
	font-size: 11px;
	font-weight: 500;
	/* ä¸éœ€è¦å¤ªç²— */

	/* ç§»é™¤æ‰€æœ‰æ¸å˜ */
	background: none;
	-webkit-text-fill-color: initial;
	color: inherit;

	display: flex;
	align-items: center;
	gap: 6px;
	height: 100%;
}

/* å³ä¾§æŒ‰é’®ç»„ */
.header-buttons {
	display: flex;
	height: 100%;
	gap: 0;
}

/* æŒ‰é’®æ ·å¼ï¼šå®Œå…¨æ‰å¹³åŒ– */
.header-buttons button {
	background: transparent;
	border: none;
	color: inherit;
	padding: 0 8px;
	/* å·¦å³é—´è·æ”¹å° */
	height: 100%;
	/* å¡«æ»¡ 22px */
	border-radius: 0;
	cursor: pointer;
	font-size: 11px;
	font-weight: 400;
	display: flex;
	align-items: center;
	gap: 4px;
	opacity: 0.8;
	transition: none;
	/* VS Code æŒ‰é’®æ²¡æœ‰è¿‡æ¸¡åŠ¨ç”»ï¼Œååº”æ˜¯å³æ—¶çš„ */
}

/* æ‚¬åœæ•ˆæœï¼šæ·±è‰²èƒŒæ™¯å˜ç¨å¾®äº®ä¸€ç‚¹çš„ç°è‰² */
.header-buttons button:hover {
	background: rgba(255, 255, 255, 0.08);
	color: #fff;
	opacity: 1;
	box-shadow: none;
	border: none;
}

/* ä¿®å¤ Emoji å¯¼è‡´çš„è¡Œé«˜æ’‘å¼€é—®é¢˜ */
.header-buttons button::first-letter {
	font-size: 12px;
	margin-right: 2px;
	line-height: 1;
}

/* --- ä¸»å†…å®¹åŒº --- */
.main-content {
	display: flex;
	flex: 1;
	overflow: hidden;
	position: relative;
	height: 100%;
}

/* --- å·¦ä¾§åˆ—è¡¨ --- */
.user-list-container {
	flex: 0 0 280px;
	background: rgba(33, 34, 44, 0.95);
	border-right: 1px solid rgba(255, 255, 255, 0.05);
	display: flex;
	flex-direction: column;
	overflow-y: auto;
	z-index: 10;
}

#user-list {
	list-style: none;
	padding: 10px;
	margin: 0;
}

/* --- ç”¨æˆ·åˆ—è¡¨é¡¹ï¼šå¡ç‰‡åŒ–è®¾è®¡ --- */
#user-list li {
	/* å¸ƒå±€ */
	display: flex;
	justify-content: space-between;
	align-items: center;

	/* å°ºå¯¸ä¸é—´è· */
	padding: 16px 20px;
	/* å¢åŠ å†…è¾¹è·ï¼Œè®©å¡ç‰‡æ›´é¥±æ»¡ */
	margin-bottom: 12px;
	/* å¡ç‰‡ä¹‹é—´çš„é—´è·ï¼Œå½¢æˆæ˜æ˜¾çš„åˆ†éš” */

	/* æ ¸å¿ƒå¤–è§‚ï¼šæœªé€‰ä¸­æ—¶æ˜¯æ·¡æ·¡çš„å¡ç‰‡ */
	background: rgba(255, 255, 255, 0.03);
	/* ææ·¡çš„ç™½è‰²åŠé€æ˜èƒŒæ™¯ */
	border: 1px solid rgba(255, 255, 255, 0.05);
	/* å¾®å¼±çš„è¾¹æ¡†æè¾¹ */
	border-radius: 12px;
	/* åœ†è§’ */

	/* äº¤äº’ä¸è´¨æ„Ÿ */
	cursor: pointer;
	transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	/* è½»å¾®çš„é˜´å½± */
	position: relative;
	overflow: hidden;
}

/* æ‚¬åœçŠ¶æ€ï¼šæµ®èµ· + å˜äº® */
#user-list li:hover {
	background: rgba(255, 255, 255, 0.08);
	/* ç¨å¾®äº®ä¸€ç‚¹ */
	border-color: rgba(189, 147, 249, 0.3);
	/* è¾¹æ¡†æ³›ç´« */
	transform: translateY(-2px);
	/* å‘ä¸Šæµ®åŠ¨ */
	box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
	/* æŠ•å½±åŠ æ·± */
}

/* é€‰ä¸­çŠ¶æ€ï¼šç´«è‰²é«˜äº® + éœ“è™¹è¾¹æ¡† */
#user-list li.active {
	background: linear-gradient(90deg, rgba(189, 147, 249, 0.15) 0%, rgba(189, 147, 249, 0.05) 100%);
	border: 1px solid rgba(189, 147, 249, 0.6);
	/* æ˜æ˜¾çš„ç´«è‰²è¾¹æ¡† */
	box-shadow: 0 0 20px rgba(189, 147, 249, 0.15);
	/* ç´«è‰²å…‰æ™• */
}

/* é€‰ä¸­æ—¶çš„å·¦ä¾§æŒ‡ç¤ºæ¡ï¼ˆå¯é€‰ï¼Œå¦‚æœä¸æƒ³è¦å¯ä»¥å»æ‰ï¼‰ */
#user-list li.active::before {
	content: '';
	position: absolute;
	left: 0;
	top: 0;
	bottom: 0;
	width: 4px;
	background: var(--primary);
	box-shadow: 0 0 10px var(--primary);
}

/* æ–‡å­—é¢œè‰²ä¼˜åŒ– */
.user-name {
	font-weight: 600;
	font-size: 15px;
	color: #f8f8f2;
	transition: color 0.3s;
}

/* å³ä¾§ IP åœ°å€ */
.user-addr {
	font-size: 12px;
	color: rgba(255, 255, 255, 0.4);
	/* æ›´æ·¡ä¸€ç‚¹ï¼Œæ‹‰å¼€å±‚æ¬¡ */
	font-family: 'JetBrains Mono', Consolas, monospace;
	/* å¦‚æœæœ‰ç­‰å®½å­—ä½“ï¼Œæ˜¾ç¤ºIPæ›´å¥½çœ‹ */
	letter-spacing: 0.5px;
}

/* é€‰ä¸­æ—¶æ–‡å­—å˜è‰² */
#user-list li.active .user-name {
	color: var(--primary);
	/* åå­—å˜ç´« */
}

#user-list li.active .user-addr {
	color: rgba(189, 147, 249, 0.7);
	/* IPä¹Ÿå¸¦ç‚¹ç´« */
}

/* --- ç¦»çº¿çŠ¶æ€é«˜çº§æ ·å¼ --- */

/* å½“ li æ‹¥æœ‰ offline ç±»æ—¶ï¼Œæ•´è¡Œå˜æš—å¹¶ç°åº¦åŒ– */
#user-list li.offline {
	opacity: 0.55;
	filter: grayscale(0.6);
	cursor: default;
	border-color: rgba(255, 255, 255, 0.05);
	background: rgba(0, 0, 0, 0.1);
	/* ç¨å¾®æ·±ä¸€ç‚¹ï¼Œæ˜¾å¾—æ²¡æ´»åŠ› */
}

/* ç¦»çº¿æ ‡ç­¾æ ·å¼ */
.user-status {
	font-size: 9px;
	font-weight: 800;
	letter-spacing: 0.8px;
	padding: 2px 6px;
	border-radius: 4px;
	margin-left: 8px;
	display: inline-block;
	transition: all 0.3s ease;
}

/* å½“å¤„äºç¦»çº¿çŠ¶æ€æ—¶ï¼Œæ¿€æ´»æ ‡ç­¾å¤–è§‚ */
.offline .user-status {
	background: rgba(98, 114, 164, 0.2);
	/* ä½¿ç”¨ Dracula Comment é¢œè‰² */
	color: #6272a4;
	/* å…¸å‹çš„è“ç°è‰² */
	border: 1px solid rgba(98, 114, 164, 0.3);
	box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.2);
}

/* é€‚é…ï¼šç¡®ä¿åå­—å’ŒçŠ¶æ€æ ‡ç­¾åœ¨ä¸€è¡Œ */
.user-info-wrapper {
	display: flex;
	align-items: center;
}

/* --- èŠå¤©ä¸»çª—å£ --- */
.chat-container {
	flex: 1;
	display: flex;
	flex-direction: column;
	background: var(--bg-panel);
	position: relative;
	overflow: hidden;
}

.chat-header {
	flex-shrink: 0;
	background: rgba(40, 42, 54, 0.9);
	padding: 15px 20px;
	border-bottom: 1px solid rgba(255, 255, 255, 0.05);
	display: flex;
	justify-content: space-between;
	align-items: center;
	font-weight: 600;
}

/* [ä¿®å¤2] å…³é—­æŒ‰é’®ï¼šä»»ä½•æ—¶å€™éƒ½æ˜¾ç¤ºï¼Œæ–¹ä¾¿å…³é—­èŠå¤© */
#close-chat-btn {
	display: flex;
	/* æ”¹ä¸º Flex ä»¥ä¾¿å±…ä¸­å›¾æ ‡ */
	align-items: center;
	justify-content: center;
	background: transparent;
	border: 1px solid rgba(255, 85, 85, 0.2);
	color: #ff5555;
	font-size: 16px;
	width: 30px;
	height: 30px;
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.3s;
}

#close-chat-btn:hover {
	background: #ff5555;
	color: white;
	box-shadow: 0 0 10px rgba(255, 85, 85, 0.4);
}

.chat-messages {
	flex: 1;
	padding: 20px 25px;
	overflow-y: auto;
	display: flex;
	flex-direction: column;
	gap: 15px;
}

/* --- æ¶ˆæ¯æ°”æ³¡ --- */
.message {
	display: flex;
	flex-direction: column;
	max-width: 100%;
}

.message.sent {
	align-items: flex-end;
}

.message.received {
	align-items: flex-start;
}

/* --- æ¶ˆæ¯æ°”æ³¡ï¼šå®å¿ƒé£æ ¼ (Solid Style) --- */

/* 1. æ¶ˆæ¯æ°”æ³¡é€šç”¨è®¾ç½® */
.message-content {
	max-width: 75%;
	padding: 12px 18px;
	border-radius: 12px;
	font-size: 15px;
	line-height: 1.5;
	position: relative;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
	/* ç®€å•çš„æŠ•å½± */
	word-wrap: break-word;
}

/* 2. æ¥æ”¶çš„æ¶ˆæ¯ (å·¦ä¾§) - å®å¿ƒæ·±ç° */
.message.received .message-content {
	background: #44475a;
	/* Dracula ä¸»é¢˜çš„â€œå½“å‰è¡Œâ€é¢œè‰²ï¼Œå®å¿ƒ */
	color: #f8f8f2;
	/* ç™½è‰²æ–‡å­— */
	border: none;
	/* å»æ‰è¾¹æ¡† */
	border-bottom-left-radius: 2px;
	/* å·¦ä¸‹è§’å°å°–è§’ */
}

/* --- 1. è°ƒæ•´å‘é€æ–¹æ°”æ³¡ï¼šæ›´æ²‰ç¨³çš„æ·±ç´«è‰² --- */
.message.sent .message-content {
	background: #6D5890;
	/* ä¸€ä¸ªæ›´æ·±ã€æ›´ç°çš„ç´«è‰²ï¼Œä¸å†åˆºçœ¼ */
	color: #f8f8f2;
	/* æ–‡å­—æ”¹ä¸ºç™½è‰²ï¼Œåœ¨æ·±è‰²èƒŒæ™¯ä¸Šæ›´æ¸…æ™° */
	border-radius: 12px;
	border-bottom-right-radius: 2px;
	padding: 12px 16px;
	box-shadow: none;
}


/* --- 3. ä¼˜åŒ–æ—¶é—´æˆ³ï¼šç¡®ä¿æ¸…æ™°å¯è§ --- */
.message-time {
	font-size: 11px;
	color: #6272a4;
	/* ä½¿ç”¨ Dracula ä¸»é¢˜çš„æ³¨é‡Šé¢œè‰²ï¼Œç¡®ä¿åœ¨é»‘èƒŒæ™¯ä¸Šæ¸…æ™° */
	margin-top: 4px;
	display: block;
	/* ç¡®ä¿å®ƒç‹¬å ä¸€è¡Œæˆ–åœ¨åˆé€‚ä½ç½® */
	opacity: 0.8;
}

.message.sent .message-time {
	text-align: right;
	/* å‘é€çš„æ—¶é—´é å³å¯¹é½ */
	margin-right: 4px;
}

.message.received .message-time {
	text-align: left;
	/* æ¥æ”¶çš„æ—¶é—´é å·¦å¯¹é½ */
	margin-left: 4px;
}

/* --- æ–‡ä»¶çŠ¶æ€é€šç”¨æ ·å¼ --- */
.file-status,
.file-finish,
.file-downloading,
.file-uploading,
.file-pending {
	font-size: 12px;
	font-weight: 600;
	/* ç¨å¾®åŠ ç²—ï¼Œæé«˜è¾¨è¯†åº¦ */
	letter-spacing: 0.5px;
	/* å¢åŠ å­—é—´è· */
	margin-top: 6px;
	display: inline-flex;
	/* ä½¿ç”¨ Flex è®©åœ†ç‚¹å’Œæ–‡å­—å¯¹é½ */
	align-items: center;
	opacity: 0.9;
	/* ç¨å¾®é™ä½ä¸€ç‚¹ä¸é€æ˜åº¦ï¼Œèå…¥èƒŒæ™¯ */
}

/* ç»Ÿä¸€æ·»åŠ ä¸€ä¸ªå°åœ†ç‚¹ï¼Œå¢åŠ ç²¾è‡´æ„Ÿ */
.file-finish::before,
.file-downloading::before,
.file-uploading::before,
.file-pending::before {
	content: '';
	display: inline-block;
	width: 6px;
	height: 6px;
	border-radius: 50%;
	margin-right: 8px;
	/* åœ†ç‚¹å’Œæ–‡å­—çš„è·ç¦» */
	background-color: currentColor;
	/* åœ†ç‚¹é¢œè‰²è·Ÿéšæ–‡å­—é¢œè‰² */
	flex-shrink: 0;
}

/* --- 1. å®ŒæˆçŠ¶æ€ (Finish) - æŸ”å’Œçš„è–„è·ç»¿ --- */
.file-finish {
	color: #50fa7b;
	/* Dracula Green */
}

/* --- 2. ä¸‹è½½ä¸­ (Downloading) - æ¸…æ–°çš„å¤©è“è‰² --- */
.file-downloading {
	color: #8be9fd;
	/* Dracula Cyan */
	animation: status-breath 1.5s infinite ease-in-out;
	/* å‘¼å¸åŠ¨ç”» */
}

/* --- 3. ä¸Šä¼ ä¸­ (Uploading) - æ¸©æš–çš„æ©˜è‰² --- */
.file-uploading {
	color: #ffb86c;
	/* Dracula Orange */
	animation: status-breath 1.5s infinite ease-in-out;
}

/* --- 4. ç­‰å¾…ä¸­/æœªçŸ¥ (Pending) - æ·¡é»„è‰² --- */
.file-pending {
	color: #f1fa8c;
	/* Dracula Yellow */
}

/* --- å‘¼å¸åŠ¨ç”»ï¼šè®©è¿›è¡Œä¸­çš„çŠ¶æ€æœ‰åŠ¨æ„Ÿï¼Œä½†ä¸é—ªçƒ --- */
@keyframes status-breath {
	0% {
		opacity: 0.6;
	}

	50% {
		opacity: 1;
	}

	100% {
		opacity: 0.6;
	}
}

/* --- é’ˆå¯¹ä½ æˆªå›¾ä¸­å‚ç›´å¸ƒå±€çš„å¾®è°ƒ --- */
/* å¦‚æœä½ çš„æ–‡ä»¶ä¿¡æ¯æ˜¯å‚ç›´æ’åˆ—çš„ï¼Œç¡®ä¿å·¦å¯¹é½å¥½çœ‹ */
.file-info {
	align-items: flex-start;
	/* å¼ºåˆ¶å·¦å¯¹é½ */
}

/* è°ƒæ•´æ–‡ä»¶å¤§å°çš„é¢œè‰²ï¼Œè®©å®ƒé€€å±…æ¬¡è¦ä½ç½®ï¼Œå‡¸æ˜¾çŠ¶æ€ */
.file-size {
	color: rgba(255, 255, 255, 0.4);
	font-size: 12px;
	margin-bottom: 2px;
}

/* --- æ–‡ä»¶å¡ç‰‡åœ¨ä¸åŒæ°”æ³¡é‡Œçš„é…è‰² --- */

/* æ¥æ”¶æ–¹(æ·±åº•ç™½å­—)é‡Œé¢çš„æ–‡ä»¶ */
.message.received .message-file {
	background: rgba(0, 0, 0, 0.2);
	/* æ·±è‰²å†…è¡¬ */
	border: 1px solid rgba(255, 255, 255, 0.08);
	border-radius: 8px;
	margin-top: 8px;
	padding: 10px;
	display: flex;
	align-items: center;
}

.message.received .message-file:hover {
	background: rgba(0, 0, 0, 0.3);
}

/* --- 2. ä¼˜åŒ–æ–‡ä»¶å¡ç‰‡ï¼šå†…åµŒå¼å¸ƒå±€ --- */
.message.sent .message-file {
	background: rgba(255, 255, 255, 0.25);
	/* æµ…è‰²å†…è¡¬ï¼Œçœ‹èµ·æ¥åƒä¸ªæ§½ */
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 8px;
	margin-top: 8px;
	padding: 10px;
	display: flex;
	align-items: center;
}

.message.sent .message-file:hover {
	background: rgba(255, 255, 255, 0.35);
}

/* --- åº•éƒ¨è¾“å…¥æ  --- */
.chat-input-container {
	flex-shrink: 0;
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 15px 25px;
	background: var(--bg-panel);
	border-top: 1px solid rgba(255, 255, 255, 0.05);
}

#attach-file-btn {
	width: 40px;
	height: 40px;
	border-radius: 50%;
	background: rgba(255, 255, 255, 0.05);
	border: 1px solid rgba(255, 255, 255, 0.1);
	color: var(--text-dim);
	font-size: 20px;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.2s;
	flex-shrink: 0;
}

#attach-file-btn:hover {
	background: var(--primary);
	color: white;
	border-color: var(--primary);
}

#chat-input {
	flex: 1;
	background: rgba(0, 0, 0, 0.2);
	border: 1px solid rgba(98, 114, 164, 0.4);
	border-radius: var(--radius-btn);
	/* ç»Ÿä¸€åœ†è§’ */
	padding: 12px 15px;
	font-size: 15px;
	color: #fff;
	outline: none;
	transition: all 0.3s;
}

#chat-input:focus {
	border-color: var(--primary);
	background: rgba(0, 0, 0, 0.3);
}

/* --- å‘é€æŒ‰é’® (æ”¹ä¸ºâ€œé€‰æ‹©â€æŒ‰é’®åŒæ¬¾æ ·å¼) --- */
#send-btn {
	background: rgba(98, 114, 164, 0.2);
	/* æ·±è‰²åŠé€æ˜èƒŒæ™¯ */
	color: var(--primary);
	/* ç´«è‰²æ–‡å­— #bd93f9 */
	border: 1px solid rgba(189, 147, 249, 0.3);
	/* ç´«è‰²ç»†è¾¹æ¡† */
	padding: 10px 24px;
	border-radius: var(--radius-btn);
	/* 12px åœ†è§’ */
	font-weight: 600;
	cursor: pointer;
	flex-shrink: 0;
	transition: all 0.3s;
	letter-spacing: 1px;
	box-shadow: none;
	/* å»æ‰é»˜è®¤é˜´å½±ï¼Œæ›´æ¸…çˆ½ */
}

/* æ‚¬åœæ•ˆæœï¼šå˜å®å¿ƒç´« + å‘å…‰ */
#send-btn:hover:not(:disabled) {
	background: var(--primary);
	/* èƒŒæ™¯å˜å®å¿ƒç´« */
	color: #282a36;
	/* æ–‡å­—å˜æ·±è‰² (DraculaèƒŒæ™¯è‰²) å¯¹æ¯”åº¦æ›´é«˜ */
	/* æˆ–è€…å¦‚æœä½ å–œæ¬¢ç™½å­—ï¼Œå¯ä»¥ç”¨ color: #fff; */
	border-color: var(--primary);
	box-shadow: 0 0 15px rgba(189, 147, 249, 0.5);
	/* ç´«è‰²å…‰æ™• */
	transform: translateY(-2px);
}

/* ç¦ç”¨çŠ¶æ€ */
#send-btn:disabled {
	background: rgba(255, 255, 255, 0.05);
	color: var(--text-dim);
	border-color: rgba(255, 255, 255, 0.1);
	cursor: not-allowed;
	transform: none;
	box-shadow: none;
}

/* --- å¼¹çª— (è®¾ç½®/æ”¹å) --- */
.edit-panel,
.settings-panel,
.theme-panel {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	/* å®Œç¾å±…ä¸­ */
	width: 380px;
	max-width: 90%;
	background: rgba(40, 42, 54, 0.95);
	backdrop-filter: blur(20px);
	border: 1px solid rgba(189, 147, 249, 0.3);
	border-radius: 20px;
	padding: 30px;
	box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
	z-index: 1000;
	animation: popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes popIn {
	from {
		opacity: 0;
		transform: translate(-50%, -60%) scale(0.95);
	}

	to {
		opacity: 1;
		transform: translate(-50%, -50%) scale(1);
	}
}

.settings-panel h2,
.edit-panel h2,
.theme-panel h2 {
	margin-top: 0;
	color: var(--primary);
	font-size: 20px;
	border-bottom: 1px solid rgba(255, 255, 255, 0.1);
	padding-bottom: 15px;
	margin-bottom: 20px;
}

/* è¾“å…¥æ¡†é€šç”¨æ ·å¼ */
#new-name-input,
#download-path-input {
	width: 100%;
	background: rgba(0, 0, 0, 0.25);
	border: 2px solid transparent;
	color: #fff;
	padding: 12px;
	border-radius: 8px;
	box-sizing: border-box;
	transition: 0.3s;
	font-size: 14px;
}

/* ç‹¬ç«‹è¾“å…¥æ¡†æœ‰ä¸‹è¾¹è· */
#new-name-input {
	margin-bottom: 15px;
}

#new-name-input:focus,
#download-path-input:focus {
	background: rgba(0, 0, 0, 0.4);
	border-color: var(--primary);
	outline: none;
}

.setting-item label {
	display: block;
	color: var(--text-main);
	font-weight: 600;
	margin-bottom: 8px;
	/* æ ‡ç­¾å’Œè¾“å…¥æ¡†ä¹‹é—´çš„é—´è· */
}

/* [ä¿®å¤1] è·¯å¾„é€‰æ‹©åŒºåŸŸï¼šé˜²æ­¢æ‹‰ä¼¸å’Œé”™ä½ */
.path-input-group {
	display: flex;
	align-items: center;
	/* å…³é”®ï¼šå‚ç›´å±…ä¸­ï¼Œé˜²æ­¢æŒ‰é’®æ‹‰ä¼¸ */
	gap: 10px;
	margin-bottom: 20px;
	/* ç»„ä¸ä¸‹æ–¹æŒ‰é’®çš„è·ç¦» */
}

/* åœ¨ç»„å†…çš„è¾“å…¥æ¡†ï¼Œå»æ‰åº•éƒ¨è¾¹è· */
#download-path-input {
	margin-bottom: 0;
	flex: 1;
	/* è‡ªåŠ¨å¡«æ»¡å‰©ä½™ç©ºé—´ */
}

/* é€‰æ‹©æŒ‰é’®ï¼šå›ºå®šé«˜åº¦ï¼Œä¸è¢« Flex æ‹‰ä¼¸ */
#choose-path-btn {
	height: 44px;
	/* ä¸è¾“å…¥æ¡†è§†è§‰é«˜åº¦ä¸€è‡´ */
	background: rgba(98, 114, 164, 0.2);
	color: var(--primary);
	border: 1px solid rgba(189, 147, 249, 0.3);
	padding: 0 20px;
	border-radius: 8px;
	cursor: pointer;
	font-weight: 600;
	transition: 0.3s;
	white-space: nowrap;
	/* é˜²æ­¢æ–‡å­—æ¢è¡Œ */
}

#choose-path-btn:hover {
	background: var(--primary);
	color: #fff;
}

.button-group {
	display: flex;
	gap: 12px;
}

#save-name-btn,
#save-settings-btn,
#apply-theme-btn {
	flex: 1;
	background: var(--primary-gradient);
	color: white;
	border: none;
	padding: 12px;
	border-radius: 8px;
	font-weight: bold;
	cursor: pointer;
	transition: 0.3s;
}

#cancel-name-btn,
#cancel-settings-btn,
#cancel-theme-btn {
	flex: 1;
	background: transparent;
	border: 1px solid rgba(255, 255, 255, 0.1);
	color: var(--text-dim);
	padding: 12px;
	border-radius: 8px;
	cursor: pointer;
	font-weight: 600;
}

#cancel-name-btn:hover,
#cancel-settings-btn:hover,
#cancel-theme-btn:hover {
	background: rgba(255, 255, 255, 0.05);
	color: #fff;
}

/* --- æ»šåŠ¨æ¡ --- */
::-webkit-scrollbar {
	width: 6px;
}

::-webkit-scrollbar-track {
	background: transparent;
}

::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.1);
	border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.3);
}

/* --- ğŸ“± ç«–å±/ç§»åŠ¨ç«¯é€‚é… --- */
@media (max-width: 768px) {
	.container {
		height: 100vh;
		overflow: hidden;
	}

	/* 1. è®©ä¸»å†…å®¹åŒºé“ºæ»¡ */
	.main-content {
		position: relative;
		width: 100%;
		display: block;
		/* å…³é”®ï¼šå–æ¶ˆ flex rowï¼Œæ”¹ä¸º block è®©å­å…ƒç´ è‡ªç„¶å †å  */
	}

	/* 2. ç”¨æˆ·åˆ—è¡¨ï¼šå¼ºåˆ¶å æ»¡å®½åº¦ */
	.user-list-container {
		width: 100% !important;
		/* å¼ºåˆ¶è¦†ç›–æ¡Œé¢çš„ 280px */
		flex: none;
		height: 100%;
		border-right: none;
		max-width: none;
	}

	/* 3. åˆ—è¡¨é¡¹æœ¬èº«ä¹Ÿè¦å¡«æ»¡ */
	#user-list {
		width: 100%;
		box-sizing: border-box;
		/* åŒ…å« padding */
	}

	#user-list li {
		margin: 8px 15px;
		/* å·¦å³ç•™ä¸€ç‚¹è¾¹è· */
		width: auto;
		/* è‡ªåŠ¨å¡«æ»¡ */
		flex-wrap: wrap;
		/* å¦‚æœç©ºé—´ä¸å¤Ÿå…è®¸æ¢è¡Œ */
	}

	.user-addr {
		font-size: 11px;
		opacity: 0.4;
	}

	/* 4. èŠå¤©çª—å£ï¼šå…¨å±è¦†ç›–æ¨¡å¼ */
	.chat-container {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		z-index: 50;
		display: none;
		width: 100%;

		/* 1. é«˜åº¦ä½¿ç”¨ 100dvh è§£å†³æµè§ˆå™¨åœ°å€æ ä¼¸ç¼©é—®é¢˜ */
		height: 100dvh;
		/* 2. é¡¶éƒ¨å¢åŠ å†…è¾¹è·ï¼ŒæŠŠå†…å®¹(Header)æŒ¤ä¸‹æ¥ï¼Œéœ²å‡ºçŠ¶æ€æ  */
		padding-top: env(safe-area-inset-top);
		/* 3. å¿…é¡»åŠ ä¸Šè¿™ä¸ªï¼Œå¦åˆ™ padding ä¼šå¯¼è‡´é«˜åº¦æº¢å‡ºå‡ºç°æ»šåŠ¨æ¡ */
		box-sizing: border-box;
	}

	/* ç§»åŠ¨ç«¯è¾“å…¥åŒºåŸŸè°ƒæ•´ */
	.chat-input-container {
		padding: 10px;
		/* å‡å°å†…è¾¹è· */
		gap: 8px;
		/* å‡å°é—´è· */

		/* [æ–°å¢] é¿å¼€åº•éƒ¨æ‰‹åŠ¿æ¡ï¼ˆå°é»‘æ¡ï¼‰ */
		padding-bottom: calc(10px + env(safe-area-inset-bottom));
	}

	#attach-file-btn {
		flex-shrink: 0;
		/* ç¦æ­¢è¢«å‹ç¼© */
	}

	#chat-input {
		flex: 1;
		/* å æ»¡å‰©ä½™ç©ºé—´ */
		min-width: 0;
		/* å…³é”®ï¼šé˜²æ­¢ flex å­é¡¹æº¢å‡º */
		padding: 10px;
	}

	#send-btn {
		flex-shrink: 0;
		/* å…³é”®ï¼šç¦æ­¢æŒ‰é’®è¢«æŒ¤å‹ */
		width: auto;
		/* å®½åº¦è‡ªé€‚åº”å†…å®¹ */
		padding: 8px 16px;
		white-space: nowrap;
		/* é˜²æ­¢æ–‡å­—æ¢è¡Œ */
	}
}

/* ä¸»é¢˜é€‰æ‹©é¢æ¿ */
.theme-list {
	margin-bottom: 20px;
}

.theme-item {
	display: flex;
	align-items: center;
	padding: 12px;
	margin-bottom: 8px;
	background: rgba(0, 0, 0, 0.2);
	border-radius: 8px;
	transition: all 0.3s ease;
	cursor: pointer;
}

.theme-item:hover {
	background: rgba(189, 147, 249, 0.1);
	border-color: var(--primary);
}

.theme-item input[type="radio"] {
	margin-right: 12px;
	accent-color: var(--primary);
}

.theme-item label {
	color: var(--text-main);
	cursor: pointer;
	font-size: 14px;
}

.theme-item.active {
	background: rgba(189, 147, 249, 0.2);
	border: 1px solid var(--primary);
}

/* Android è·¯å¾„é€‰æ‹©é¢æ¿ */
.android-path-panel {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background: #282a36;
	/* ä½¿ç”¨æ˜ç¡®çš„æ·±è‰²èƒŒæ™¯ */
	border: 1px solid #44475a;
	border-radius: 8px;
	padding: 20px;
	z-index: 1001;
	min-width: 300px;
	max-width: 90%;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.8);
}

/* æ·»åŠ é®ç½©å±‚ */
.android-path-panel::before {
	content: '';
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.8);
	/* æ›´æ·±çš„é®ç½© */
	z-index: -1;
}

.android-path-panel h2 {
	margin: 0 0 15px 0;
	color: #f8f8f2;
	/* æ˜ç¡®çš„æ–‡å­—é¢œè‰² */
	font-size: 18px;
}

.android-path-content {
	display: flex;
	flex-direction: column;
	gap: 10px;
}

.path-option {
	padding: 12px;
	background: #21222c;
	/* æ˜ç¡®çš„èƒŒæ™¯è‰² */
	border: 2px solid #44475a;
	border-radius: 6px;
	cursor: pointer;
	transition: all 0.2s;
}

.path-option:hover {
	border-color: #bd93f9;
	background: #44475a;
}

.path-option:active {
	transform: scale(0.98);
}

.path-name {
	font-weight: bold;
	color: #f8f8f2;
	/* æ˜ç¡®çš„æ–‡å­—é¢œè‰² */
	margin-bottom: 4px;
}

.path-value {
	font-size: 12px;
	color: #b3b3b3;
	/* æ˜ç¡®çš„æ¬¡è¦æ–‡å­—é¢œè‰² */
	word-break: break-all;
}

.custom-path-input {
	display: flex;
	gap: 8px;
	margin-top: 10px;
}

.custom-path-input input {
	flex: 1;
	padding: 8px;
	background: #21222c;
	/* æ˜ç¡®çš„èƒŒæ™¯è‰² */
	border: 1px solid #44475a;
	border-radius: 4px;
	color: #f8f8f2;
	/* æ˜ç¡®çš„æ–‡å­—é¢œè‰² */
	font-size: 14px;
}

.custom-path-input button {
	padding: 8px 16px;
	background: #bd93f9;
	/* æ˜ç¡®çš„æŒ‰é’®é¢œè‰² */
	color: white;
	border: none;
	border-radius: 4px;
	cursor: pointer;
	font-size: 14px;
}

.custom-path-input button:hover {
	opacity: 0.9;
}
